(()=>{"use strict";const t=window.ReactJSXRuntime,{registerBlockType:e}=wp.blocks,{useSelect:n}=wp.data,{RichText:a,BlockControls:l}=wp.blockEditor,{SelectControl:i,Button:s}=wp.components;e("custom/tabbed-content",{title:"Tabbed Content",icon:"welcome-widgets-menus",category:"common",attributes:{mainHeading:{type:"string",default:""},tabOneTitle:{type:"string",default:""},tabTwoTitle:{type:"string",default:""},tabThreeTitle:{type:"string",default:""},tabOneContent:{type:"array",default:[]},tabTwoContent:{type:"array",default:[]},tabThreeContent:{type:"array",default:[]}},edit:({attributes:e,setAttributes:l})=>{const{mainHeading:o,tabOneTitle:c,tabTwoTitle:r,tabThreeTitle:d,tabOneContent:b,tabTwoContent:p,tabThreeContent:T}=e,h=t=>n((e=>e("core").getEntityRecords("postType",t,{per_page:10})),[t]),m=h("lessons")||[],u=h("team")||[],g=h("post")||[],x=(t,n)=>{const a=e[t];if(a.some((t=>t.id===n)))return;const i=[...m,...u,...g].find((t=>t.id===n));if(i){const e=[...a,{id:i.id,title:i.title.rendered,slug:i.slug,postType:"post"===i.type?"blog":i.type}];l({[t]:e})}};return(0,t.jsxs)("div",{className:"tabbed-content-block",children:[(0,t.jsx)(a,{tagName:"h2",className:"main-heading",value:o,onChange:t=>l({mainHeading:t}),placeholder:"Enter main heading..."}),[{tab:"tabOne",title:c,setTitle:"tabOneTitle",posts:m,content:b},{tab:"tabTwo",title:r,setTitle:"tabTwoTitle",posts:u,content:p},{tab:"tabThree",title:d,setTitle:"tabThreeTitle",posts:g,content:T}].map((({tab:n,title:o,setTitle:c,posts:r,content:d})=>(0,t.jsxs)("div",{className:"tab",children:[(0,t.jsx)(a,{tagName:"h3",className:`${n}-title`,value:o,onChange:t=>l({[c]:t}),placeholder:`Enter title for ${n.replace("tab","Tab ")}...`}),(0,t.jsx)(i,{label:"Select Posts",value:"",options:[{value:"",label:"Select a post..."},...r.map((t=>({value:t.id,label:t.title.rendered})))],onChange:t=>x(`${n}Content`,parseInt(t))}),(0,t.jsx)("ul",{children:d.length>0?d.map((a=>(0,t.jsxs)("li",{children:[a.title," ",(0,t.jsx)(s,{isDestructive:!0,onClick:()=>((t,n)=>{l({[t]:e[t].filter((t=>t.id!==n))})})(`${n}Content`,a.id),children:"Remove"})]},a.id))):(0,t.jsx)("p",{children:"No content selected"})})]},n)))]})},save:({attributes:e})=>{const{mainHeading:n,tabOneTitle:a,tabTwoTitle:l,tabThreeTitle:i,tabOneContent:s,tabTwoContent:o,tabThreeContent:c}=e;return(0,t.jsxs)("div",{className:"tabbed-content-block",children:[(0,t.jsx)("h2",{className:"tabbed-content-main-heading",children:n}),[{title:a,content:s},{title:l,content:o},{title:i,content:c}].map((({title:e,content:n},a)=>(0,t.jsxs)("div",{className:"tab",children:[(0,t.jsx)("h3",{children:e}),(0,t.jsx)("ul",{children:n.length>0?n.map((e=>(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:`/${e.postType}/${e.slug}`,children:e.title})},e.id))):(0,t.jsx)("p",{children:"No content available"})})]},a)))]})}})})();